<h2>Editar Producto: {{product.nombre}}</h2>
<hr>

{{#if errors}}
    {{! Mostrar errores }}
{{/if}}

{{! El action debe apuntar a la ruta de edición con el ID del producto }}
<form action="/products/edit/{{product._id}}" method="POST" enctype="multipart/form-data">
    
    <div class="form-group">
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" name="nombre" class="form-control" value="{{product.nombre}}" required>
    </div>

    <div class="form-group">
        <label for="precio">Precio:</label>
        <input type="number" step="0.01" id="precio" name="precio" class="form-control" value="{{product.precio}}" required>
    </div>

    <div class="form-group">
        <label for="descripcion">Descripción:</label>
        <textarea id="descripcion" name="descripcion" class="form-control">{{product.descripcion}}</textarea>
    </div>

    <div class="form-group">
        <label>Imagen Actual:</label>
        {{#if product.imagen}}
             

[Image of product]

            <img src="/uploads/{{product.imagen}}" alt="Imagen actual" width="100" class="d-block mb-2">
        {{else}}
            <p> No hay imagen cargada.</p>
        {{/if}}
    </div>

    <div class="form-group">
        <label for="imagen">Cambiar Imagen (opcional):</label>
        <input type="file" id="imagen" name="imagen" class="form-control-file" accept="image/jpeg, image/png">
    </div>

    <button type="submit" class="btn btn-warning mt-3">Guardar Cambios</button>
    <a href="/products" class="btn btn-secondary mt-3">Cancelar</a>
</form>
